{"version":3,"file":"hotreload.min.js","sources":["../../utils/hotreload.js"],"sourcesContent":["var socket = null;\nvar connectUrl = location.hostname + \":\" + location.port;\nwindow.addEventListener(\"load\", () => {\n  loadjs();\n  if (socket === null) {\n    socket = io.connect(connectUrl, { \"forceNew\": true });\n    socket.emit(\"connection\");\n  }\n  socket.on(\"reload\", () => {\n    removejs();\n    loadjs();\n  });\n});\nfunction removejs() {\n  var node = document.getElementById(\"load\");\n  if (node) {\n    document.body.removeChild(node);\n  }\n}\nfunction loadjs() {\n  var script = document.createElement('script');\n  script.id = \"load\";\n  script.src = \"/js/index.min.js\";\n  document.body.appendChild(script);\n}\n\nwindow.addEventListener(\"beforeunload\", () => {\n  if (socket) {\n    socket.emit(\"byebye\");\n    socket.disconnect(true);\n  }\n});\n"],"names":["loadjs","script","document","createElement","id","src","body","appendChild","socket","connectUrl","location","hostname","port","window","addEventListener","io","connect","forceNew","emit","on","node","getElementById","removeChild","disconnect"],"mappings":"uJAmBA,SAASA,QACHC,EAASC,SAASC,cAAc,YAC7BC,GAAK,SACLC,IAAM,4BACJC,KAAKC,YAAYN,GAvB5B,IAAIO,EAAS,KACTC,EAAaC,SAASC,SAAW,IAAMD,SAASE,KACpDC,OAAOC,iBAAiB,OAAQ,eAEf,OAAXN,MACOO,GAAGC,QAAQP,GAAcQ,UAAY,KACvCC,KAAK,gBAEPC,GAAG,SAAU,YAKtB,eACMC,EAAOlB,SAASmB,eAAe,QAC/BD,YACOd,KAAKgB,YAAYF,cAU9BP,OAAOC,iBAAiB,eAAgB,WAClCN,MACKU,KAAK,YACLK,YAAW"}